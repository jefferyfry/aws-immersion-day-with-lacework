<!DOCTYPE html>
<html lang="oyo" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.104.3" />
    <meta name="description" content="AWS Immersion Day with Lacework">
<meta name="author" content="Lacework">

    <link rel="icon" href="https://lacework-alliances.github.io/aws-immersion-day/images/favicon.png" type="image/png">

    <title>BuildScanPush Phase :: AWS Immersion Day with Lacework</title>

    
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/nucleus.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/fontawesome-all.min.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/hybrid.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/featherlight.min.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/perfect-scrollbar.min.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/auto-complete.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/atom-one-dark-reasonable.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/theme.css?1666716349" rel="stylesheet">
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/hugo-theme.css?1666716349" rel="stylesheet">
    
    <link href="https://lacework-alliances.github.io/aws-immersion-day/css/theme-mine.css?1666716349" rel="stylesheet">
    
    

    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/jquery-3.3.1.min.js?1666716349"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    <script type="text/javascript">
    (function() {
        var didInit = false;
        function initMunchkin() {
            if (didInit === false) {
                didInit = true;
                Munchkin.init("112-TZM-766", { domainLevel: 3 });
            }
        }
        var s = document.createElement('script');
        s.type = 'text/javascript';
        s.async = true;
        s.src = '//munchkin.marketo.net/munchkin.js';
        s.onreadystatechange = function() {
            if (this.readyState == 'complete' || this.readyState == 'loaded') {
                initMunchkin();
            }
        };
        s.onload = initMunchkin;
        document.getElementsByTagName('head')[0].appendChild(s);
    })();
</script>

<link rel="stylesheet" href="https://lacework-alliances.github.io/aws-immersion-day/css/mp-devops-series.css">
<link rel="stylesheet" href="https://pages.awscloud.com/js/forms2/css/forms2.css">
  </head>
  <body class="" data-url="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/57_buildscanpush_phase.html">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://lacework-alliances.github.io/aws-immersion-day/" title="Go home"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 30" width="60%" style="padding:20px 0px;"><defs><style>.cls-1{fill:#fff;}.cls-2{fill:#f90;fill-rule:evenodd;}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"></path><path class="cls-2" d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"></path><path class="cls-2" d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"></path></svg></a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://lacework-alliances.github.io/aws-immersion-day/js/lunr.min.js?1666716349"></script>
<script type="text/javascript" src="https://lacework-alliances.github.io/aws-immersion-day/js/auto-complete.js?1666716349"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/lacework-alliances.github.io\/aws-immersion-day\/";
    
</script>
<script type="text/javascript" src="https://lacework-alliances.github.io/aws-immersion-day/js/search.js?1666716349"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1_event_engine_setup.html" title="AWS Hosted Event Setup" class="dd-item 
        
        
        
        ">
      <a href="https://lacework-alliances.github.io/aws-immersion-day/1_event_engine_setup.html">
          <b>1 </b>AWS Hosted Event Setup
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/1_event_engine_setup/11_aws_event_account.html" title="Access Your Temporary AWS Account" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/1_event_engine_setup/11_aws_event_account.html">
        <b>1.1 </b>Access Your Temporary AWS Account
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/1_event_engine_setup/12_lacework_account.html" title="Access Lacework" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/1_event_engine_setup/12_lacework_account.html">
        <b>1.2 </b>Access Lacework
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2_lacework_aws_integration.html" title="How Lacework Integrates with AWS" class="dd-item 
        
        
        
        ">
      <a href="https://lacework-alliances.github.io/aws-immersion-day/2_lacework_aws_integration.html">
          <b>2 </b>How Lacework Integrates with AWS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/2_lacework_aws_integration/21_cloudformation_setup.html" title="CloudTrail and AWS Configuration Integration via Console and CloudFormation" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/2_lacework_aws_integration/21_cloudformation_setup.html">
        <b>2.1 </b>CloudTrail and AWS Configuration Integration via Console and CloudFormation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_lacework_aws_integration/22_aws_control_tower.html" title="Multi-Account Onboarding with AWS Control Tower" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/2_lacework_aws_integration/22_aws_control_tower.html">
        <b>2.2 </b>Multi-Account Onboarding with AWS Control Tower
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_lacework_aws_integration/23_agent_integration.html" title="EC2, EKS, ECS, Fargate Agent Integration" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/2_lacework_aws_integration/23_agent_integration.html">
        <b>2.3 </b>EC2, EKS, ECS, Fargate Agent Integration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_lacework_aws_integration/24_kubernetes_integration.html" title="EKS (Kubernetes) Control Plane Integration" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/2_lacework_aws_integration/24_kubernetes_integration.html">
        <b>2.4 </b>EKS (Kubernetes) Control Plane Integration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_lacework_aws_integration/25_registry_integration.html" title="ECR Container Registry Integration" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/2_lacework_aws_integration/25_registry_integration.html">
        <b>2.5 </b>ECR Container Registry Integration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2_lacework_aws_integration/26_cicd_integration.html" title="CodePipeline, CodeBuild CI/CD Integration" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/2_lacework_aws_integration/26_cicd_integration.html">
        <b>2.6 </b>CodePipeline, CodeBuild CI/CD Integration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3_lacework_console_overview.html" title="Lacework Console Overview" class="dd-item 
        
        
        
        ">
      <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview.html">
          <b>3 </b>Lacework Console Overview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/3_lacework_console_overview/31_global_dashboard.html" title="Lacework Dashboard" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview/31_global_dashboard.html">
        <b>3.1 </b>Lacework Dashboard
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/3_lacework_console_overview/32_alerts.html" title="Alerts" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview/32_alerts.html">
        <b>3.2 </b>Alerts
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/3_lacework_console_overview/33_compliance_cloud.html" title="Compliance Cloud" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview/33_compliance_cloud.html">
        <b>3.3 </b>Compliance Cloud
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/3_lacework_console_overview/34_container_vulnerabilities.html" title="Container and Host Vulnerabilities" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview/34_container_vulnerabilities.html">
        <b>3.4 </b>Container and Host Vulnerabilities
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/3_lacework_console_overview/35_resources.html" title="Resources" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview/35_resources.html">
        <b>3.5 </b>Resources
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/3_lacework_console_overview/36_policies.html" title="Policies" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview/36_policies.html">
        <b>3.6 </b>Policies
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/3_lacework_console_overview/37_alert_channels_rules.html" title="Alert Channels and Rules" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/3_lacework_console_overview/37_alert_channels_rules.html">
        <b>3.7 </b>Alert Channels and Rules
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4_cspm_plus.html" title="Advanced Cloud Security Posture Management (CSPM&#43;)" class="dd-item 
        
        
        
        ">
      <a href="https://lacework-alliances.github.io/aws-immersion-day/4_cspm_plus.html">
          <b>4 </b>Advanced Cloud Security Posture Management (CSPM&#43;)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/4_cspm_plus/41_anatomy_attack.html" title="Anatomy of the Attack" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/4_cspm_plus/41_anatomy_attack.html">
        <b>4.1 </b>Anatomy of the Attack
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/4_cspm_plus/42_compliance.html" title="Cloud Security Compliance" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/4_cspm_plus/42_compliance.html">
        <b>4.2 </b>Cloud Security Compliance
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/4_cspm_plus/43_anomaly.html" title="The Lacework Anomaly Detection" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/4_cspm_plus/43_anomaly.html">
        <b>4.3 </b>The Lacework Anomaly Detection
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5_devsecops_plus_eks.html" title="DevSecOps&#43;: Secured Software Delivery Pipeline with EKS" class="dd-item 
        parent
        
        
        ">
      <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks.html">
          <b>5 </b>DevSecOps&#43;: Secured Software Delivery Pipeline with EKS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/51_arch.html" title="Architecture" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/51_arch.html">
        <b>5.1 </b>Architecture
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/52_cloudformation.html" title="Lacework, CodePipeline, CodeBuild, CodeGuru, ECR &amp; EKS in CloudFormation" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/52_cloudformation.html">
        <b>5.2 </b>Lacework, CodePipeline, CodeBuild, CodeGuru, ECR &amp; EKS in CloudFormation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/53_codepipeline.html" title="CodePipeline: A DevSecOps Pipeline" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/53_codepipeline.html">
        <b>5.3 </b>CodePipeline: A DevSecOps Pipeline
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/54_source_phase.html" title="Source Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/54_source_phase.html">
        <b>5.4 </b>Source Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/55_scancode_phase.html" title="ScanCode Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/55_scancode_phase.html">
        <b>5.5 </b>ScanCode Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/56_scaniac_phase.html" title="ScanIaC Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/56_scaniac_phase.html">
        <b>5.6 </b>ScanIaC Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/57_buildscanpush_phase.html" title="BuildScanPush Phase" class="dd-item active">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/57_buildscanpush_phase.html">
        <b>5.7 </b>BuildScanPush Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/58_scanstagingimage_phase.html" title="ScanStagingImage Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/58_scanstagingimage_phase.html">
        <b>5.8 </b>ScanStagingImage Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/59_deploytostaging_phase.html" title="DeployToStaging Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/59_deploytostaging_phase.html">
        <b>5.9 </b>DeployToStaging Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/510_scanstagingconfig_phase.html" title="ScanStagingConfig Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/510_scanstagingconfig_phase.html">
        <b>5.10 </b>ScanStagingConfig Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/511_approvalstage_phase.html" title="Approval Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/511_approvalstage_phase.html">
        <b>5.11 </b>Approval Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/512_promotetoprodrepo_phase.html" title="PromoteToProdRepo Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/512_promotetoprodrepo_phase.html">
        <b>5.12 </b>PromoteToProdRepo Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/513_scanprodimage_phase.html" title="ScanProdImage Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/513_scanprodimage_phase.html">
        <b>5.13 </b>ScanProdImage Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/5_devsecops_plus_eks/514_deploytoprod_phase.html" title="DeployToProduction Phase" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/514_deploytoprod_phase.html">
        <b>5.14 </b>DeployToProduction Phase
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
      <li data-nav-id="/099_survey.html" title="Survey" class="dd-item ">
        <a href="https://lacework-alliances.github.io/aws-immersion-day/099_survey.html">
        Survey
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://lacework-alliances.github.io/aws-immersion-day/cleanup.html"><i class='fas fa-trash-alt'></i> Cleanup</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://github.com/lacework-alliances/aws-immersion-day-code"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://lacework-alliances.github.io/aws-immersion-day/resources.html"><i class='fab fa-readme'></i> Resources</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://lacework-alliances.github.io/aws-immersion-day/schedule.html"><i class='fab fa-readme'></i> Schedule</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> </a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    <h5 class="copyright">&copy; 2020 Amazon Web Services, Inc. or its Affiliates. All rights reserved.<h5>
</left>


    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='https://lacework-alliances.github.io/aws-immersion-day/'>AWS Immersion Day with Lacework</a> > <a href='https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks.html'>DevSecOps+: Secured Software Delivery Pipeline with EKS</a> > BuildScanPush Phase
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              BuildScanPush Phase
            </h1>
          

        


<p>In the BuildScanPush phase, we build our Docker image, scan it for software package and OS library security vulnerabilities and if it passes, we push it to ECR. The scanning for software and OS vulnerabilities is also performed by the <a href="https://docs.lacework.com/onboarding/integrate-inline-scanner" target="_blank">Lacework CLI (inline scanner)</a>.</p>
<p><img src="https://lacework-alliances.github.io/aws-immersion-day/images/build-scan-push.png" alt="build-scan-push"></p>
<p>The Cloudformation specification of the BuildScanPush phase is as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>        - <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">BuildScanPush</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">Actions</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">BuildScanPush</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">ActionTypeId</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Category</span>: <span style="color:#ae81ff">Build</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Owner</span>: <span style="color:#ae81ff">AWS</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Version</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">Provider</span>: <span style="color:#ae81ff">CodeBuild</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">Configuration</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">ProjectName</span>: !<span style="color:#ae81ff">Ref CodeBuildBuildScanPushProject</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">InputArtifacts</span>:
</span></span><span style="display:flex;"><span>                - <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">App</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">OutputArtifacts</span>:
</span></span><span style="display:flex;"><span>                - <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">BuildScanPushOutput</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">RunOrder</span>: <span style="color:#ae81ff">4</span>
</span></span></code></pre></div><p>This phase is backed by an AWS CodeBuild project CodeBuildBuildScanPushProject:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>  <span style="color:#f92672">CodeBuildBuildScanPushProject</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">AWS::CodeBuild::Project</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">Properties</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">BuildScanPush</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Description</span>: <span style="color:#e6db74">&#34;Build, Scan, Push&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Artifacts</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">CODEPIPELINE</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Source</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Type</span>: <span style="color:#ae81ff">CODEPIPELINE</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">BuildSpec</span>: <span style="color:#e6db74">&#34;codebuild-build-scan-push.yaml&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">Environment</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">ComputeType</span>: <span style="color:#e6db74">&#34;BUILD_GENERAL1_SMALL&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Image</span>: <span style="color:#e6db74">&#34;aws/codebuild/standard:5.0&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Type</span>: <span style="color:#e6db74">&#34;LINUX_CONTAINER&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">PrivilegedMode</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">EnvironmentVariables</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">AWS_REGION</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Value</span>: !<span style="color:#ae81ff">Ref AWS::Region</span>
</span></span><span style="display:flex;"><span>          - <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">IMAGE_NAME</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Value</span>: <span style="color:#e6db74">&#34;staging-demo-app&#34;</span>
</span></span><span style="display:flex;"><span>          - <span style="color:#f92672">Name</span>: <span style="color:#ae81ff">DOCKER_REG</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">Value</span>: !<span style="color:#ae81ff">Sub &#34;${AWS::AccountId}.dkr.ecr.${AWS::Region}.amazonaws.com&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ServiceRole</span>: !<span style="color:#ae81ff">Ref CodeBuildServiceRole</span>
</span></span></code></pre></div><p>This is backed by the AWS CodeBuild buildspec file <a href="https://github.com/lacework-alliances/aws-immersion-day-code/blob/master/app/codebuild-build-scan-push.yaml" target="_blank">codebuild-build-scan-push.yaml</a> that has the actual commands:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#ae81ff">0.2</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">env</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">parameter-store</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">LW_ACCOUNT</span>: <span style="color:#e6db74">&#34;LW_ACCOUNT&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">LW_ACCESS_TOKEN</span>: <span style="color:#e6db74">&#34;INLINE_SCANNER_TOKEN&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">phases</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">install</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">runtime-versions</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">java</span>: <span style="color:#ae81ff">corretto8</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">commands</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">curl -L https://github.com/lacework/lacework-vulnerability-scanner/releases/latest/download/lw-scanner-linux-amd64 -o lw-scanner</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">chmod +x lw-scanner</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">build</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">commands</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">mvn clean install</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">pwd</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">ls</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">ls target</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">docker build -t &#34;$DOCKER_REG/$IMAGE_NAME:$CODEBUILD_BUILD_NUMBER&#34; -t &#34;$DOCKER_REG/$IMAGE_NAME:latest&#34; .</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">post_build</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">commands</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">export LW_ACCOUNT_NAME=$LW_ACCOUNT</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">export LW_ACCESS_TOKEN=$LW_ACCESS_TOKEN</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">export LW_SCANNER_DISABLE_UPDATES=true</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">export LW_SCANNER_SAVE_RESULTS=true</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">rm -rf ./evaluations/$IMAGE_NAME/$CODEBUILD_BUILD_NUMBER/evaluation_*.json || true</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./lw-scanner image evaluate $DOCKER_REG/$IMAGE_NAME $CODEBUILD_BUILD_NUMBER --build-id $CODEBUILD_BUILD_NUMBER --data-directory . || true</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">aws ecr get-login-password --region $AWS_REGION | docker login --username AWS --password-stdin $DOCKER_REG</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">docker image push -a &#34;$DOCKER_REG/$IMAGE_NAME&#34;</span>
</span></span></code></pre></div><p>In this buildspec file, we first build our Docker image. Then we install and run the Lacework CLI (inline scanner) to check for software and OS security issues. Then we push the image to our ECR repository.</p>
<p>Now let&rsquo;s view the results of this phase by clicking on the <strong>Details</strong> link in CodePipeline. This will take us to the AWS CodeBuild build logs.</p>
<p>Scroll down the log to find security issues in our Docker image. We see many CVEs identified for the Java software libraries used in our application.</p>
<p><img src="https://lacework-alliances.github.io/aws-immersion-day/images/docker-image-issues.png" alt="docker-image-issues"></p>
<hr>
<h1 id="challenge">Challenge</h1>

<div class="expand">
    <div class="expand-label" style="cursor: pointer;" onclick="$h = $(this);$h.next('div').slideToggle(100,function () {$h.children('i').attr('class',function () {return $h.next('div').is(':visible') ? 'fas fa-chevron-down' : 'fas fa-chevron-right';});});">
        <i style="font-size:x-small;" class="fas fa-chevron-right"></i>
        <span>
        
    	
    	Can you customize the software and OS vulnerability security policies?
    	
    	</span>
    </div>
    <div class="expand-content" style="display: none;">
        YES! <a href="https://docs.lacework.com/onboarding/integrate-inline-scanner#container-vulnerability-policy-support" target="_blank">https://docs.lacework.com/onboarding/integrate-inline-scanner#container-vulnerability-policy-support</a>.
    </div>
</div>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/56_scaniac_phase.html" title="ScanIaC Phase"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://lacework-alliances.github.io/aws-immersion-day/5_devsecops_plus_eks/58_scanstagingimage_phase.html" title="ScanStagingImage Phase" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/clipboard.min.js?1666716349"></script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/perfect-scrollbar.min.js?1666716349"></script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/perfect-scrollbar.jquery.min.js?1666716349"></script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/jquery.sticky.js?1666716349"></script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/featherlight.min.js?1666716349"></script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/highlight.pack.js?1666716349"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/modernizr.custom-3.6.0.js?1666716349"></script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/learn.js?1666716349"></script>
    <script src="https://lacework-alliances.github.io/aws-immersion-day/js/hugo-learn.js?1666716349"></script>
    
        
            <script src="https://lacework-alliances.github.io/aws-immersion-day/mermaid/mermaid.js?1666716349"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

